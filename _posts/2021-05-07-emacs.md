---
layout: post
title:  "emacs作为Go IDE"
---

## IDE工具

1. gopls
2. eglot
3. xref
4. yasnippet
5. company

根据gopls的提示，安装lsp client。我选用了eglot。eglot会提示函数/结构体定义，但跳转和代码补全功能则需要更多的配置。

## xref

xref提供代码跳转功能，使用方式和ggtags类似。

1. find def: M-.
2. find ref: M-?

## eldoc-doc-buffer样式

如需调整eldoc-doc-buffer显示的代码样式，通过以下快捷键设置font face。
```
C-u C-x = 
```
eldoc-doc-buffer用到的是markdown-code-face，所以跟编辑markdown文件时显示效果一样。如果发现字体发虚，把fixed-patch不勾选就正常了。

## 代码补全:

代码补全功能由company和yasnippet共同完成。company作为前端展示，yasnippet则是后端。

启用company:

```elisp
(add-hook 'after-init-hook 'global-company-mode)
```
